(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{v5UV:function(e,t,n){"use strict";n.r(t),n.d(t,"PurchaseByStoreModule",(function(){return v}));var r=n("ofXK"),c=n("tyNb"),l=n("fXoL"),u=n("lgOS"),a=n("mrSG"),o=n("iD3B"),s=n("5eHb"),i=n("Mfq2"),b=n("AhLa"),p=n("jt5H");function d(e,t){1&e&&(l.Ob(0,"tr"),l.Ob(1,"td",9),l.xc(2,"There are no purchase yet."),l.Nb(),l.Nb())}var y=function(e,t){return[e,t]};function f(e,t){if(1&e&&(l.Ob(0,"tr"),l.Ob(1,"td",11),l.Ob(2,"span",12),l.xc(3),l.Nb(),l.Nb(),l.Ob(4,"td",13),l.Ob(5,"span",12),l.xc(6),l.Nb(),l.Nb(),l.Ob(7,"td",14),l.Ob(8,"span",12),l.Yb(9,"currency"),l.Yb(10,"currencyExchange"),l.xc(11),l.Yb(12,"currency"),l.Yb(13,"currencyExchange"),l.Nb(),l.Nb(),l.Nb()),2&e){var n=t.$implicit,r=l.Xb(2);l.xb(2),l.dc("tooltip",null==n?null:n.name),l.xb(1),l.yc(null==n?null:n.name),l.xb(2),l.dc("tooltip",null==n?null:n.quantity),l.xb(1),l.yc(null==n?null:n.quantity),l.xb(2),l.dc("tooltip",l.ac(9,6,l.ac(10,9,null==n?null:n.price,l.hc(18,y,null==r.defaultCurrency?null:r.defaultCurrency.rate,null==r.selectedCurrency?null:r.selectedCurrency.rate)),r.selectedCurrency.name)),l.xb(3),l.zc(" ",l.ac(12,12,l.ac(13,15,null==n?null:n.price,l.hc(21,y,null==r.defaultCurrency?null:r.defaultCurrency.rate,null==r.selectedCurrency?null:r.selectedCurrency.rate)),r.selectedCurrency.name)," ")}}function h(e,t){if(1&e&&l.vc(0,f,14,24,"tr",10),2&e){var n=l.Xb();l.dc("ngForOf",n.storesSum)}}function m(e,t){if(1&e&&(l.Ob(0,"tfoot",15),l.Ob(1,"tr"),l.Kb(2,"td",16),l.Ob(3,"td",17),l.Ob(4,"span",12),l.Yb(5,"currency"),l.Yb(6,"currencyExchange"),l.Yb(7,"fieldSum"),l.xc(8),l.Yb(9,"currency"),l.Yb(10,"currencyExchange"),l.Yb(11,"fieldSum"),l.Nb(),l.Nb(),l.Nb(),l.Nb()),2&e){var n=l.Xb();l.xb(4),l.dc("tooltip",l.ac(5,2,l.ac(6,5,l.ac(7,8,n.storesSum,"price"),l.hc(20,y,null==n.defaultCurrency?null:n.defaultCurrency.rate,null==n.selectedCurrency?null:n.selectedCurrency.rate)),n.selectedCurrency.name)),l.xb(4),l.zc(" Sum: ",l.ac(9,11,l.ac(10,14,l.ac(11,17,n.storesSum,"price"),l.hc(23,y,null==n.defaultCurrency?null:n.defaultCurrency.rate,null==n.selectedCurrency?null:n.selectedCurrency.rate)),n.selectedCurrency.name)," ")}}var g=function(){function e(e,t,n){this.user=e,this.toastr=t,this.appService=n}return e.prototype.ngOnInit=function(){var e=this;this.user.getAllStates().subscribe((function(t){e.selectedCurrency=t.selectedCurrency,e.defaultCurrency=t.defaultCurrency,e.storesSum=e.getStoresSum(t)}),(function(){e.toastr.error("Oops...something went wrong.","Error!")}))},e.prototype.getStoresSum=function(e){var t=[],n=e.archiveItems,r=e.waitingItems,c=Object(a.d)(r,n);if(null==c?void 0:c.length){var l=this.appService.groupByKey(c,"store");Object.keys(l).map((function(e){t.push({name:e,quantity:l[e].length,price:l[e].reduce((function(e,t){return(null==t?void 0:t.price)+e}),0)})}))}return t},e.\u0275fac=function(t){return new(t||e)(l.Jb(o.a),l.Jb(s.b),l.Jb(u.a))},e.\u0275cmp=l.Db({type:e,selectors:[["app-purchase-by-store-table"]],decls:15,vars:3,consts:[[1,"purchase-by-store-table-wrapper"],[1,"table","table-responsive-sm","table-hover"],[1,"table-primary"],["scope","col",1,"store-name-header"],["scope","col",1,"quantity-header"],["scope","col",1,"price-header"],[4,"ngIf","ngIfElse"],["purchaseByStoreTableTemplate",""],["class","font-weight-bold bg-light",4,"ngIf"],["colspan","5"],[4,"ngFor","ngForOf"],[1,"ellipsis-text","store-name"],[3,"tooltip"],[1,"ellipsis-text","quantity"],[1,"ellipsis-text","price"],[1,"font-weight-bold","bg-light"],["colspan","2"],["colspan","1"]],template:function(e,t){if(1&e&&(l.Ob(0,"div",0),l.Ob(1,"table",1),l.Ob(2,"thead"),l.Ob(3,"tr",2),l.Ob(4,"th",3),l.xc(5,"Store name"),l.Nb(),l.Ob(6,"th",4),l.xc(7,"Quantity"),l.Nb(),l.Ob(8,"th",5),l.xc(9,"Price"),l.Nb(),l.Nb(),l.Nb(),l.Ob(10,"tbody"),l.vc(11,d,3,0,"tr",6),l.vc(12,h,1,1,"ng-template",null,7,l.wc),l.Nb(),l.vc(14,m,12,26,"tfoot",8),l.Nb(),l.Nb()),2&e){var n=l.lc(13);l.xb(11),l.dc("ngIf",t.storesSum&&0===(null==t.storesSum?null:t.storesSum.length))("ngIfElse",n),l.xb(3),l.dc("ngIf",t.storesSum&&(null==t.storesSum?null:t.storesSum.length)>0)}},directives:[r.m,r.l,i.a],pipes:[r.d,b.a,p.a],styles:[".purchase-by-store-table-wrapper[_ngcontent-%COMP%]   .store-name-header[_ngcontent-%COMP%]{width:600px}.purchase-by-store-table-wrapper[_ngcontent-%COMP%]   .price-header[_ngcontent-%COMP%], .purchase-by-store-table-wrapper[_ngcontent-%COMP%]   .quantity-header[_ngcontent-%COMP%]{width:300px}.purchase-by-store-table-wrapper[_ngcontent-%COMP%]   .ellipsis-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.purchase-by-store-table-wrapper[_ngcontent-%COMP%]   .ellipsis-text.store-name[_ngcontent-%COMP%]{max-width:600px}.purchase-by-store-table-wrapper[_ngcontent-%COMP%]   .ellipsis-text.price[_ngcontent-%COMP%], .purchase-by-store-table-wrapper[_ngcontent-%COMP%]   .ellipsis-text.quantity[_ngcontent-%COMP%]{max-width:300px}"]}),e}(),O=[{path:"",component:function(){function e(e){this.appService=e}return e.prototype.ngOnInit=function(){var e=this;setTimeout((function(){e.appService.pageTitle="Purchase by store"}),0)},e.\u0275fac=function(t){return new(t||e)(l.Jb(u.a))},e.\u0275cmp=l.Db({type:e,selectors:[["app-purchase-by-store"]],decls:2,vars:0,consts:[[1,"purchase-by-store-wrapper"]],template:function(e,t){1&e&&(l.Ob(0,"div",0),l.Kb(1,"app-purchase-by-store-table"),l.Nb())},directives:[g],styles:[""]}),e}()},{path:"**",redirectTo:""}],C=function(){function e(){}return e.\u0275mod=l.Hb({type:e}),e.\u0275inj=l.Gb({factory:function(t){return new(t||e)},imports:[[c.c.forChild(O)]]}),e}(),x=n("PCNd"),v=function(){function e(){}return e.\u0275mod=l.Hb({type:e}),e.\u0275inj=l.Gb({factory:function(t){return new(t||e)},imports:[[r.c,C,i.b,x.a]]}),e}()}}]);